"use strict";function ClickPromise(e){this.callable=e,this.callbackSuccess=function(){},this.callbackFail=function(){}}function ClickBusPayments(){this.options={paymentFormId:"payment_form",creditcardFieldId:"credit_card",securityCodeFieldId:"security_code",expirationMonthFieldId:"expiration_month",expirationYearFieldId:"expiration_year",holderNameFieldId:"holder_name",docTypeFieldId:"doc_type",docNumberFieldId:"doc_number"},this.attributeNames={creditcardFieldId:"cardNumber",securityCodeFieldId:"securityCode",expirationMonthFieldId:"cardExpirationMonth",expirationYearFieldId:"cardExpirationYear",holderNameFieldId:"cardholderName",docTypeFieldId:"docType",docNumberFieldId:"docNumber"},this.personalizedOptions=arguments,this.loaded=!1,this.clickPromise=null,this.updateForm(),loadScript(config.javascript_url,function(){return this.start()}.bind(this))}function addEvent(e,t,i){e.addEventListener?e.addEventListener(t,i):e.attachEvent("on"+t,function(){i.call(e)})}function loadScript(e,t){var i=document.getElementsByTagName("head")[0],o=document.createElement("script");o.type="text/javascript",o.src=e,o.onreadystatechange=t,o.onload=t,i.appendChild(o)}function merge(e,t){if(!(arguments[0]&&arguments[0]instanceof Object))return e;for(var i in t)e[i]=t[i];return e}ClickPromise.prototype.success=function(e){return this.callbackSuccess=e,this},ClickPromise.prototype.fail=function(e){return this.callbackFail=e,this},ClickPromise.prototype.call=function(){this.callable()},ClickPromise.prototype.finish=function(e,t){try{if(201==e)this.callbackSuccess(t.id);else{var i=[];for(var o in t.cause){var c={code:t.cause[o].code,description:t.cause[o].description};i.push(c)}this.callbackFail(i)}}catch(a){this.callbackFail(a)}};var config={javascript_url:"https://secure.mlstatic.com/sdk/javascript/v1/mercadopago.js?nocache="+10*Math.random(),public_key:"TEST-113119e6-0844-9263-e053-0f4910ac9c07"};ClickBusPayments.prototype.generateToken=function(){var e=document.getElementById(this.options.paymentFormId);return this.clickPromise=new ClickPromise(function(){Mercadopago.createToken(e,function(e,t){return this.finish(e,t)}.bind(this))}),this.clickPromise},ClickBusPayments.prototype.start=function(){Mercadopago.setPublishableKey(config.public_key),this.loaded=!0},ClickBusPayments.prototype.updateForm=function(){this.options=merge(this.options,this.personalizedOptions[0]);for(var e in this.options){var t=document.getElementById(this.options[e]);if(!t){var i=this.options[e]+" is required";throw new Error(i)}this.attributeNames[e]&&t.setAttribute("data-checkout",this.attributeNames[e])}};