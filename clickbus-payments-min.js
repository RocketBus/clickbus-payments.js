"use strict";function ClickPromise(t){this.callable=t,this.callbackSuccess=function(){},this.callbackFail=function(){}}function ClickBusPayments(t){this.options={paymentFormId:"payment_form",creditcardFieldId:"credit_card",securityCodeFieldId:"security_code",expirationMonthFieldId:"expiration_month",expirationYearFieldId:"expiration_year",holderNameFieldId:"holder_name",docTypeFieldId:"doc_type",docNumberFieldId:"doc_number"},this.attributeNames={creditcardFieldId:"cardNumber",securityCodeFieldId:"securityCode",expirationMonthFieldId:"cardExpirationMonth",expirationYearFieldId:"cardExpirationYear",holderNameFieldId:"cardholderName",docTypeFieldId:"docType",docNumberFieldId:"docNumber"},this.loaded=!1,this.clickPromise=null,this.updateForm(),loadScript(config.javascript_url,function(){return this.start()}.bind(this))}function addEvent(t,e,i){t.addEventListener?t.addEventListener(e,i):t.attachEvent("on"+e,function(){i.call(t)})}function loadScript(t,e){var i=document.getElementsByTagName("head")[0],c=document.createElement("script");c.type="text/javascript",c.src=t,c.onreadystatechange=e,c.onload=e,i.appendChild(c)}function merge(t,e){if(!(arguments[0]&&arguments[0]instanceof Object))return t;for(var i in e)t[i]=e[i];return t}ClickPromise.prototype.success=function(t){return this.callbackSuccess=t,this},ClickPromise.prototype.fail=function(t){return this.callbackFail=t,this},ClickPromise.prototype.call=function(){this.callable()},ClickPromise.prototype.finish=function(t,e){try{if(201==t)this.callbackSuccess(e.id);else{var i=[];for(var c in e.cause)i.push(e.cause[c].description);this.callbackFail(i)}}catch(a){this.callbackFail(a)}};var config={javascript_url:"https://secure.mlstatic.com/sdk/javascript/v1/mercadopago.js?nocache="+10*Math.random(),public_key:"TEST-113119e6-0844-9263-e053-0f4910ac9c07"};ClickBusPayments.prototype.generateToken=function(){var t=document.getElementById(this.options.paymentFormId);return this.clickPromise=new ClickPromise(function(){Mercadopago.createToken(t,function(t,e){return this.finish(t,e)}.bind(this))}),this.clickPromise},ClickBusPayments.prototype.start=function(){Mercadopago.setPublishableKey(config.public_key),this.loaded=!0},ClickBusPayments.prototype.updateForm=function(){this.options=merge(this.options,arguments[0]);for(var t in this.options){var e=document.getElementById(this.options[t]);if(!e){var i=this.options[t]+" is required";throw new Error(i)}this.attributeNames[t]&&e.setAttribute("data-checkout",this.attributeNames[t])}};